<!DOCTYPE html>
<html>
<head>
  <title>Admin</title>
</head>
<body>

<h3>Admin Dashboard</h3>

<table border="1">
<thead>
<tr>
  <th>User</th><th>Month</th><th>Year</th><th>Amount</th><th>Status</th>
</tr>
</thead>
<tbody id="tbl"></tbody>
</table>

<script>
const admin = localStorage.getItem("username");

async function load() {
  const res = await fetch(`/api/admin/payments?username=${admin}`);
  const data = await res.json();

  tbl.innerHTML = data.map(p => `
    <tr>
      <td>${p[1]}</td>
      <td>${p[5]}</td>
      <td>${p[6]}</td>
      <td>â‚±${p[7]}</td>
      <td>${p[3]}</td>
    </tr>
  `).join("");
}

load();
</script>

</body>
</html>
